<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    {% block styles %}
    <!-- Load Bootstrap-Flask CSS here -->
    {{ bootstrap.load_css() }}

    <!-- Link to the styles.css here to apply styling to all the child templates.-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" >
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Sortable/1.14.0/Sortable.min.js"></script>

    <style>
      #timer {
          font-size: 2em;
          font-weight: bold;
      }
      textarea {
        width: 100%;
        height: 100%;
        box-sizing: border-box;
      }
      body {
        height: 100%;
      }
    </style>

    {% endblock %}

    <title>{% block title %}{% endblock %}</title>

    <script>
      // Set the countdown time in seconds
      var timeLeft = 10;
      var countdown;
  
      function startCountdown() {
          countdown = setInterval(function() {
              // Display the time left
              document.getElementById("timer").innerHTML = timeLeft;
  
              // Decrease the time left by 1
              timeLeft--;
  
              // If the countdown is finished, clear the interval and display "Time's up!"
              if (timeLeft < 0) {
                  clearInterval(countdown);
                  document.getElementById("timer").innerHTML = "Time's up!";
                  document.getElementById("inputBox").value = '';
              }
          }, 1000);
      }
  
      function resetTimer() {
          clearInterval(countdown);
          timeLeft = 10;
          document.getElementById("timer").innerHTML = timeLeft;
          startCountdown();
      }
  
  
      document.addEventListener('DOMContentLoaded', (event) =>
        { const inputBox = document.getElementById('inputBox');
        inputBox.addEventListener('input', (e) => {
          console.log('User is typing: ', e.target.value);
          resetTimer();
        });
      });
  
      // Start the countdown when the page loads
      startCountdown();
    </script>
  
  </head>
  <body>
    <div class="jumbotron text-center">
      <div class="container">
      <h1 class="display-4">Type TYPE type ðŸ’»</h1>
      <div id="timer">10</div>
      <button onclick="resetTimer()">Reset Timer</button>
      </div>
    </div>
    <!-- <input type="text" class="full-window-textbox" id="inputBox" placeholder="Type something..."> -->
     <textarea name="text" class="textarea" rows="50" id="inputBox" placeholder="Type something..."></textarea>

  </body>
</html>
